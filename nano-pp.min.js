function nano(a,b){return console.log("template ",a,"data",b),a=a.replace(/(\[[\s\S]*\])/g,function(c){var f=c.match(/\[{(\S+)}([\s\S]*)\]/);return b[f[1]].map(function(g){return nano(f[2],g)}).join("")}),a.replace(/\{([\w\.]*)\}/g,function(c,e){for(var f=e.split("."),g=b[f.shift()],h=0,j=f.length;h<j;h++)g=g[f[h]];return"undefined"!=typeof g&&null!==g?g:""})}